<div class="financial-updates-container">
  <section class="hero">
    <div class="hero-content">
      <h1>Financial Updates</h1>
    </div>
  </section>

  <div class="content">
    <h2>Quarterly Reports</h2>

    <div *ngIf="loading" class="loading-spinner">
      <mat-spinner diameter="40"></mat-spinner>
      <p>Loading reports...</p>
    </div>

    <div *ngIf="!loading" class="reports-layout">
      <!-- Left side: Report list -->
      <div class="reports-list">
        <div
          class="report-item"
          *ngFor="let report of reports"
          [class.active]="
            selectedReport && selectedReport.pdfUrl === report.pdfUrl
          "
          (click)="viewReport(report)"
        >
          <div class="report-title">
            <h3>{{ report.title }} {{ report.year }}</h3>
          </div>
          <div class="report-actions">
            <a [href]="report.pdfUrl" download mat-icon-button>
              <mat-icon>file_download</mat-icon>
            </a>
          </div>
        </div>

        <div *ngIf="reports.length === 0" class="no-reports">
          <p>No financial reports available</p>
        </div>
      </div>

      <!-- Right side: PDF viewer -->
      <div class="pdf-viewer-container" *ngIf="selectedReport">
        <div class="viewer-header">
          <h3>{{ selectedReport.title }} {{ selectedReport.year }}</h3>
          <a [href]="selectedReport.pdfUrl" download mat-button color="primary">
            <mat-icon>file_download</mat-icon> Download PDF
          </a>
        </div>
        <pdf-viewer
          class="pdf-viewer"
          [src]="selectedReport.pdfUrl"
          [render-text]="true"
          [original-size]="false"
        ></pdf-viewer>
      </div>

      <!-- Placeholder when no report is selected -->
      <div class="pdf-placeholder" *ngIf="!selectedReport && !loading">
        <div class="placeholder-content">
          <mat-icon>description</mat-icon>
          <p>Select a report from the list to view it here</p>
        </div>
      </div>
    </div>
  </div>
</div>
